<h1>Face Tracker</h1>

<% option_month =  [['January',1], ['February',2], ['March',3], ['April',4], ['May',5], ['June',6], ['July',7], ['August',8], ['September',9], ['October',10], ['November',11], ['December',12]]%>
<%= form_tag({controller: 'emotions', action: 'counter'}, method: 'get') do %>
  <%= select_tag(:month, options_for_select(option_month, params[:month]), id: "different_option_value_html", onchange: "this.form.submit()", include_blank: "Month: ") %>
  <%= number_field_tag(:year, params[:year], min: 1900, max: 2099, step: 1, onchange: "this.form.submit()", placeholder: "Year: ") %>
<% end %>
<br>

<ul>
<br>
  <%= "Month - #{Date::MONTHNAMES[params[:month].to_i]}" %>
  <p><%= "Number of times face was clicked: #{@emotion_h + @emotion_m + @emotion_s}" %></p>
  <li>Happy Count: <%= "#{(@emotion_h.fdiv(@emotion_h + @emotion_m + @emotion_s)*100).round}%" %></li>
  <li>Meh Count: <%= "#{(@emotion_m.fdiv(@emotion_h + @emotion_m + @emotion_s)*100).round}%" %></li>
  <li>Sad Count: <%= "#{(@emotion_s.fdiv(@emotion_h + @emotion_m + @emotion_s)*100).round}%" %></li>

</ul>



<% data = [["happy", (@emotion_h.fdiv(@emotion_h + @emotion_m + @emotion_s)*100).round], ["meh", (@emotion_m.fdiv(@emotion_h + @emotion_m + @emotion_s)*100).round], ["sad", (@emotion_s.fdiv(@emotion_h + @emotion_m + @emotion_s)*100).round]] %>
<%= pie_chart data, colors:['green', 'orange', 'red'], library: { pieSliceText: 'value' } %>
